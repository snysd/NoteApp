# NoteAppGuide
**This text is _extremely_ important**
*****
## 概要
このアプリはメモ帳アプリです。  
- メモした内容を表示、編集、保存、削除、外部出力する。
- メモ情報はタイトル、作者、更新日時、本文の要素を持つ。
- トップ画面にはメモの一覧を表示する。
- テキストの編集フォームを別窓に表示し、メモを編集し保存できる。
- 作成したメモはDBに保存する。
- 保存されたメモはDBよりダウンロードが可能で、任意の場所に保存できる。
- 作成したテキストを他のユーザーと共有できる。  
## 画面案  
### トップ画面  
![image](https://user-images.githubusercontent.com/92729088/148949441-36fe3e6b-7e70-4c4e-85d2-79ffda6a45cb.png)
### 編集・追加画面    
![image](https://user-images.githubusercontent.com/92729088/148949327-0165303a-e873-49fd-a467-f6278a06c45b.png)
## 処理詳細  
### 初期化処理  
1. イニファイルを読み込んで、メモ一覧DBの取得URLを保持する。
2. メモ一覧DBの取得URLに対してhttpリクエストを実行し、メモ一覧を取得する。
### トップ画面  
#### ロードイベント  
1. 取得したメモ一覧をもとにメモ一覧を作成する。
#### 新規作成ボタンクリック時  
1. 編集追加画面に対して、追加モードを設定する。
2. メモ一覧のIDの最大値を取得する。
3. 編集追加画面に対して、フォーム終了時イベントを追加する。
4. 編集追加画面を表示する。
#### 編集ボタンクリック時  
1. 選択されている行情報があれば最初の行情報を取得する。
2. 選択されている行情報のIDを検索しメモを取得する。
3. 編集追加画面に対して、選択されているメモを設定する。
4. 編集追加画面に対して、フォーム終了時イベントを追加する。
5. 編集追加画面に対して、編集モードを設定する。
6. 編集追加画面を表示する。
#### 削除ボタンクリック時  
1. 選択されている行情報を取得する。
2. 選択された行情報のID一覧を生成する。
3. 生成したID一覧から削除対象のメモ一覧を取得する。
4. 削除意思をユーザに確認する。
5. 削除対象メモをDBから削除する。
6. メモ一覧DBの取得URLに対してhttpリクエストを実行し、メモ一覧を取得する。
7. メモ一覧のコントローラーを更新する。
#### 出力ボタンクリック時  
1. 選択されている行情報を取得する。
2. 選択されている行情報のIDを検索する。
3. 選択されているIDをもとにメモを取得する。
4. 「名前を付けて保存」のダイアログを表示させ、任意の場所にテキストファイルを保存する。  
→[「名前を付けて保存」のやり方](https://dobon.net/vb/dotnet/form/savefiledialog.html)
### 編集追加画面  
#### ロードイベント  
1. 追加モードの場合は何もしない
2. 編集モードの場合は、選択されているメモの情報を初期値として設定する。
#### 保存ボタンクリック時  
1. 入力された内容をもとにメモを生成する。
2. 時刻を取得してメモに設定する。
3. 追加モードの場合はIDの最大値をもとに新たなIDを設定する。
4. 追加編集画面を終了する。
#### キャンセルボタンクリック時  
1. 追加編集画面を終了する。
#### 編集追加画面終了イベント 編集モード  
1. 編集対象のメモがない場合何もせずに終了する。バツボタン
2. 編集対象メモをDBに反映する。
3. メモ一覧DBの取得URLに対してhttpリクエストを実行し、メモ一覧を取得する。
4. メモ一覧コントローラーに反映する。
#### 編集追加画面終了イベント 追加モード  
1. 追加対象のメモがない場合何もせずに終了する。バツボタン
2. 追加対象メモをDBに追加する。
3. メモ一覧DBの取得URLに対してhttpリクエストを実行し、メモ一覧を取得する。
4. メモ一覧コントローラーに反映する。
